#!/bin/sh
#
# Builds all the documentation for Orca2
#
# This consists of the following steps:
#
# 1) Convert all the doxygen comments into html
# 2) Add the header (which contains the Orca sidebar) to both
#    the doxygen-generated html and the human-generated html (in html/raw_html)a
#
################################################################################

USAGE_ARGS=""

#
# Usage: build_doxygen <dir>
#
build_doxygen () {
    if [ $# -ne 1 ]; then
        echo "Require one argument"
        exit 1
    fi

    dir=$1
    cd $dir

    doxygen
    if [ ! $? ]; then
        echo "Problem building doxygen in $1"
        exit 1
    fi
    cd -
}

#
# First build the doxygen stuff locally
#
build_doxygen ../src/utils
build_doxygen ../src/components

#
# Then add the sidebar stuff
#
cd html
./build_documentation
cd -