<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" >
<head>
<title>ORCA</title>
<link rel="stylesheet" href="generic2.css" type="text/css" />
</head>
<body>

<!-- Do not edit or remove this line: it causes add_sidebar.pl to add the menu -->


<p>WARNING: THIS HAS NOT BEEN UPDATED FOR ORCA2!</p>

<h1>
Using Dart Testing System with Orca
</h1>

<p><a href="http://public.kitware.com/Dart">Dart</a>, an open-source, distributed, software quality system. It works with CMake and CVS.</p>

<h2>Setting up a Dart client</h2>

<ul>
   <li>install tcl on your machine</li>
<TABLE CLASS="ex" cellSpacing=0 width="100%" border=1><TBODY><TR><TD><PRE>
# apt-get install tcl8.4
</PRE></TD></TR></TBODY></TABLE>

    <li>Download Dart software from the <a href="http://public.kitware.com/Dart/HTML/Download.shtml">Kitware website.</a>
    Currently, this requires CVS.</li>

   <li>install Dart on your machine (copy the Dart source into  /usr/local/Dart)</li>

   <li>set the environment variable DART_ROOT (to /usr/local/Dart)</li>

<TABLE CLASS="ex" cellSpacing=0 width="100%" border=1><TBODY><TR><TD><PRE>
export DART_ROOT=/usr/local/Dart
</PRE></TD></TR></TBODY></TABLE>
   
   <li>set the name of the compiler explicitly in your .bashrc</li>
<TABLE CLASS="ex" cellSpacing=0 width="100%" border=1><TBODY><TR><TD><PRE>
export CXX=/usr/bin/g++-3.3
</PRE></TD></TR></TBODY></TABLE>

   <li>set the HTTP_PROXY and HTTP_PROXY_PORT variables if you're behind a firewall</li>
</ul>


<h2>Configuring Make Files</h2>

<p>The CMake command for adding tests is ADD_TEST. See for example &lt;orca-base-dir&gt;/src/tests/objects/CMakeLists.txt. The
following line defines a new test SIMPLE_OBJECT_TEST which will execute executable test_executable with an argument args.</p>
<TABLE CLASS="ex" cellSpacing=0 width="100%" border=1><TBODY><TR><TD><PRE>
...
ADD_TEST( SIMPLE_OBJECT_TEST   test_executable args )
...
</PRE></TD></TR></TBODY></TABLE>


<h2>Running Dart client</h2>

<p>When you put ADD_TEST statements in your cmake files, cmake will generate special test make targets. You can see a complete list
of them by typing
<TABLE CLASS="ex" cellSpacing=0 width="100%" border=1><TBODY><TR><TD><PRE>
$ make help
The following are some of the valid targets for this Makefile:
... all (the default if no target is provided)
... clean
... depend
... install
.................
... Nightly
... NightlyBuild
... NightlyConfigure
... NightlyCoverage
... NightlyDashboardEnd
... NightlyDashboardStart
... NightlyStart
... NightlySubmit
... NightlyTest
... NightlyUpdate
</PRE></TD></TR></TBODY></TABLE>

<p>Some useful targets are:</p>
<ul>
    <li>ExperimentalTest: will just run the tests locally (assuming you've done 'ExperimentalStart' earlier).</li>
</ul>        

<h2>Automatic Testing</h2>

<p>Nightly builds are done using a cron script. To set up a nightly build do the following.</p>

<ul>
    <li>Open the file &lt;orca-components-dir&gt;/src/tests/cron/client and copy its contents.</li>
    
    <li>Edit your crontab and paste the contents of the client file.</li>
<TABLE CLASS="ex" cellSpacing=0 width="100%" border=1><TBODY><TR><TD><PRE>
$ crontab -e
</PRE></TD></TR></TBODY></TABLE>

    <li>The nightly builds of both orca-base and orca-components will now happen at 5a.m.</li>
    
</ul>

<!-- Do not edit or remove this line: it causes add_sidebar.pl to add the footer -->


</body>
</html>
